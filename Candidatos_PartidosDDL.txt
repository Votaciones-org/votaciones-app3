-- Crud Candidatos - Partidos
-- Procedimientos Partidos
-- Insertar Partido
DELIMITER //
CREATE PROCEDURE procInsertPartidoDDL(
    IN v_nombre_partido VARCHAR(100),
    IN v_descripcion TEXT
)
BEGIN
    INSERT INTO tbl_partidos (par_nombre_partido, par_descripcion)
    VALUES (v_nombre_partido, v_descripcion);
END//
DELIMITER ;

-- Actualizar Partido
DELIMITER //
CREATE PROCEDURE procUpdatePartidoDDL(
    IN v_partido_id INT,
    IN v_nombre_partido VARCHAR(100),
    IN v_descripcion TEXT
)
BEGIN
    UPDATE tbl_partidos
    SET par_nombre_partido = v_nombre_partido,
        par_descripcion = v_descripcion
    WHERE par_id = v_partido_id;
END//
DELIMITER ;

-- Seleccionar Partidos
DELIMITER //
CREATE PROCEDURE procSelectPartidosDDL()
BEGIN
    SELECT 
        par_id,
        par_nombre_partido,
        par_fecha_registro,
        par_descripcion
    FROM tbl_partidos;
END//
DELIMITER ;

-- Eliminar Partido
DELIMITER //
CREATE PROCEDURE procDeletePartidoDDL(
    IN v_partido_id INT
)
BEGIN
    DELETE FROM tbl_partidos WHERE par_id = v_partido_id;
END//
DELIMITER ;

-- Procedimientos Candidatos
-- Insertar Candidato
DELIMITER //
CREATE PROCEDURE procInsertCandidatoDDL(
    IN v_nombre VARCHAR(100),
    IN v_apellido VARCHAR(100),
    IN v_partido VARCHAR(100),
    IN v_fecha_nacimiento VARCHAR(100),
    IN v_propuesta TEXT
)
BEGIN
    INSERT INTO tbl_candidatos (can_nombre, can_apellido, can_partido, can_fecha_nacimiento, can_propuesta)
    VALUES (v_nombre, v_apellido, v_partido, v_fecha_nacimiento, v_propuesta);
END//
DELIMITER ;

-- Actualizar Candidato
DELIMITER //
CREATE PROCEDURE procUpdateCandidatoDDL(
    IN v_candidato_id INT,
    IN v_nombre VARCHAR(100),
    IN v_apellido VARCHAR(100),
    IN v_partido VARCHAR(100),
    IN v_fecha_nacimiento VARCHAR(100),
    IN v_propuesta TEXT
)
BEGIN
    UPDATE tbl_candidatos
    SET can_nombre = v_nombre,
        can_apellido = v_apellido,
        can_partido = v_partido,
        can_fecha_nacimiento = v_fecha_nacimiento,
        can_propuesta = v_propuesta
    WHERE can_id = v_candidato_id;
END//
DELIMITER ;

-- Seleccionar Candidatos
DELIMITER //
CREATE PROCEDURE procSelectCandidatosDDL()
BEGIN
    SELECT 
        can_id,
        can_nombre,
        can_apellido,
        can_partido,
        can_fecha_nacimiento,
        can_propuesta,
        can_fecha_registro
    FROM tbl_candidatos;
END//
DELIMITER ;

-- Eliminar Candidato
DELIMITER //
CREATE PROCEDURE procDeleteCandidatoDDL(
    IN v_candidato_id INT
)
BEGIN
    DELETE FROM tbl_candidatos WHERE can_id = v_candidato_id;
END//
DELIMITER ;